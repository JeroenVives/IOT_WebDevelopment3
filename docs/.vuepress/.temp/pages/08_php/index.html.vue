<template><div><h1 id="back-end-webdevelopment-met-php" tabindex="-1"><a class="header-anchor" href="#back-end-webdevelopment-met-php"><span>Back-end webdevelopment met PHP</span></a></h1>
<p>Bij Back-End wordt door de client een request gestuurd naar de webserver die op zijn beurt de nodige HTML, CSS en JS bestanden zal aanmaken en als antwoord terugsturen.</p>
<p><img src="@source/08_php/images/afbeelding1.png" alt="image"></p>
<h2 id="installatie-software" tabindex="-1"><a class="header-anchor" href="#installatie-software"><span>Installatie software</span></a></h2>
<p>Om de PHP taal lokaal te kunnen hosten hebben we Apache en PHP nodig en om data te gebruiken ook MySQL.
Om dit operating systeem onafhankelijk te maken is er gekozen om te werken met het installatiepakket XAMPP.</p>
<p>Ga naar <a href="https://www.apachefriends.org/download.html" target="_blank" rel="noopener noreferrer">de website van XAMPP</a> en download de hoogste PHP versie voor jou operating systeem.
Installeer vervolgens met alle default waarden.</p>
<div class="hint-container warning">
<p class="hint-container-title">Installatie path</p>
<p>Zorg er voor dat je installatie path <code v-pre>c:\xampp</code> is.</p>
</div>
<p>Configuratie's kan je doen via het XAMPP controle panel.</p>
<p>Wat als poort 80 reeds bezet is? Je kan jou Apache server ook via een andere poort laten werken.
Ga via het XAMPP control panel naar de <code v-pre>httpd.conf</code> file en maak onderstaande aanpassingen:</p>
<div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf" data-title="conf"><pre v-pre><code><span class="line">Servername localhost:80 // wijzig de 80 naar bv 8000</span>
<span class="line">...</span>
<span class="line">listen 80 // wijzig ook hier de 80 naar dezeflde poort als je hierboven hebt gekozen</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Om te controleren dat je Apache server en PHP goed werken kan je het volgende testbestand <code v-pre>phpinfo.php</code> aanmaken in de folder <code v-pre>C:\xampp\htdocs</code>:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tik vervolgens in je browser <code v-pre>localhost[:jouw poort]/phpinfo.php</code>(het : met jouw poort is enkel nodig als je niet met poort 80 werkt).
Als alles goed is krijg je nu een overzicht van PHP.</p>
<!-- TODO: uittesten en debugging extensie toevoegen -->
<p>Om een mail te kunnen versturen vanuit onze localhost moeten we enkele instellingen juist zetten.</p>
<ol>
<li>Een google account voorbereiden</li>
</ol>
<ul>
<li>Je maakt hiervoor best een nieuw GMail-account aan die voor ontwikkelingsdoeleinden kan gebruiken.</li>
<li>Log via een incognitovenster in op het nieuwe GMail-account.</li>
<li>Kies in je accountbeheer voor dubbele authenticatie (Zorg er voor dat je jouw gsm bij de hand hebt).</li>
<li>Kies voor App-wachtwoorden, als app kies je email en als apparaat windows computer.</li>
<li>Klik vervolgens op genereren en kopieer de toegangscode zodat je die straks kan gebruiken.</li>
</ul>
<ol start="2">
<li>Open het bestand <code v-pre>php.ini</code> via het XAMPP control panel en pas volgende regels aan:</li>
</ol>
<div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini" data-title="ini"><pre v-pre><code><span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mail function</span><span class="token punctuation">]</span></span> </span>
<span class="line"><span class="token key attr-name">SMTP</span><span class="token punctuation">=</span><span class="token value attr-value">smtp.gmail.com</span></span>
<span class="line"><span class="token key attr-name">smtp_port</span><span class="token punctuation">=</span><span class="token value attr-value">587</span></span>
<span class="line"><span class="token key attr-name">sendmail_from</span> <span class="token punctuation">=</span> <span class="token value attr-value">YourGmailId@gmail.com</span></span>
<span class="line"><span class="token key attr-name">sendmail_path</span> <span class="token punctuation">=</span> <span class="token value attr-value">"<span class="token inner-value">\"C:\xampp\sendmail\sendmail.exe\" -t</span>"</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>Ga naar de folder <code v-pre>C:\xampp\sendmail</code>, open er het bestand <code v-pre>sendmail.ini</code> en pas volgende regels aan (gewoon de ~ verwijderen):</li>
</ol>
<div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini" data-title="ini"><pre v-pre><code><span class="line"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">sendmail</span><span class="token punctuation">]</span></span></span>
<span class="line"><span class="token key attr-name">smtp_server</span><span class="token punctuation">=</span><span class="token value attr-value">smtp.gmail.com</span></span>
<span class="line"><span class="token key attr-name">smtp_port</span><span class="token punctuation">=</span><span class="token value attr-value">587</span></span>
<span class="line"><span class="token key attr-name">error_logfile</span><span class="token punctuation">=</span><span class="token value attr-value">error.log</span></span>
<span class="line"><span class="token key attr-name">debug_logfile</span><span class="token punctuation">=</span><span class="token value attr-value">debug.log</span></span>
<span class="line"><span class="token key attr-name">auth_username</span><span class="token punctuation">=</span><span class="token value attr-value">YourGmailId@gmail.com</span></span>
<span class="line"><span class="token key attr-name">auth_password</span><span class="token punctuation">=</span><span class="token value attr-value">Your-Gmail-app-pasword</span></span>
<span class="line"><span class="token key attr-name">force_sender</span><span class="token punctuation">=</span><span class="token value attr-value">YourGmailId@gmail.com</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning">
<p class="hint-container-title">Restart Apache server</p>
<p>Je zal de apache server moeten herstarten, je kan dit via XAMPP control panel doen.</p>
</div>
<h2 id="week-1-introductie-in-php" tabindex="-1"><a class="header-anchor" href="#week-1-introductie-in-php"><span>Week 1 - Introductie in PHP</span></a></h2>
<p><img src="@source/08_php/images/phpicon.png" alt="download"></p>
<p>PHP is een <strong>Server-side</strong> scripttaal gebruikt om een webpagina dynamisch te maken. Voor de gebruiker is de PHP scripttaal onzichtbaar, enkel het resultaat er van.</p>
<p>Voor we van start gaan, nog even meegeven dat je ook veel informatie op de <a href="https://www.php.net/manual/en/" target="_blank" rel="noopener noreferrer">php.net</a> website kan terugvinden.</p>
<p><a href="/files/cheatsheet_php.pdf">Hier</a> kan je een cheatsheet terugvinden ter ondersteuning van taken, toetsen, projecten en werkplekleren.</p>
<h3 id="inleiding" tabindex="-1"><a class="header-anchor" href="#inleiding"><span>Inleiding</span></a></h3>
<p>Net zoals bij Javascript start PHP met een opening tag en eindigt het met een closing tag. Ook wordt net zoals bv bij C# elke coderegel beëindigd met een <code v-pre>;</code>.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">//Hier komt de PHP code</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Als we PHP code schrijven dan doen we dat in een bestand met de extensie <code v-pre>.PHP</code>. Je zou de code ook bv in je HTML kunnen schrijven, maar dan wordt deze niet uitgevoerd.</p>
<p>Om PHP iets te laten weergeven naar de gebruiker gebruiken we het commando <code v-pre>echo</code>.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Dit zal de tekst Hello world tonen</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Hello world"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Dit zal de teksten Hello en world samenvoegen en tonen</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Hello"</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" world"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Dit zal de som van 2 + 3, dus 5 tonen</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Als je enkel een stukje PHP code wil gebruiken om iets naar het scherm te schrijven kan je ook de verkorte notitie gebruiken.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Welcome <span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$name</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Zoals je in de code hierboven reeds kon vaststellen is het bij PHP eveneens mogelijk om commentaar toe te voegen aan je code. Dit is een 'best-practice' techniek die sterk aangeraden wordt. Het kost je wat extra tijd bij het schrijven van je code, maar nadien haal je er veel winst bij als jij of iemand anders je code moet lezen of aanpassen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// op deze manier kan je een enkele lijn commentaar toevoegen</span></span>
<span class="line">    <span class="token comment">/* op deze manier kan je meerdere lijnen commentaar</span>
<span class="line">       toevoegen, of een stukje code tijdelijk uitschakelen */</span> </span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="datatypes" tabindex="-1"><a class="header-anchor" href="#datatypes"><span>Datatypes</span></a></h3>
<p>Net zoals in andere programeercode kunnen we variabelen definiëren van verschillende datatypes.</p>
<div class="hint-container tip">
<p class="hint-container-title">Tip</p>
<p>Variabele namen zijn hoofdletter gevoelig in PHP, m.a.w. $color, $Color en $COLOR zijn drie verschillende variabelen!</p>
</div>
<h4 id="strings" tabindex="-1"><a class="header-anchor" href="#strings"><span>Strings</span></a></h4>
<p>Net zoals bij Javascript kan je je string met <code v-pre>&quot;</code> of <code v-pre>'</code> definiëren. Maak er een gewoonte van om dit steeds met <code v-pre>&quot;</code> te doen.</p>
<p>Het volgende voorbeeld neemt twee string variabelen voegt deze samen in een derde en toont deze vervolgens aan de gebruiker.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$groet</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Beste"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$doel</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"studenten"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$zin</span> <span class="token operator">=</span> <span class="token variable">$groet</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" "</span> <span class="token operator">.</span> <span class="token variable">$doel</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token variable">$zin</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan ook een string toevoegen aan een string variabele.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$zin</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Beste "</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$zin</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"studenten"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token variable">$zin</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan ook de variabele in je tekst plaatsen, maar dit werkt enkel als je de tekst met <code v-pre>&quot;</code>definieert.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token variable">$zin</span></span> , welkom in de cursus PHP."</span></span>
<span class="line">    <span class="token comment">// het resultaat is: Beste studenten, welkom in de cursus PHP.</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'$zin , welkom in de cursus PHP.'</span></span>
<span class="line">    <span class="token comment">// het resultaat is: $zin , welkom in de cursus PHP.</span></span>
<span class="line">    <span class="token comment">// waarschijnlijk niet het resultaat wat je wou.</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Als je de komma direct na de inhoud van zin wil moet je duidelijk maken wat de variable is via {}</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$zin</span><span class="token punctuation">}</span></span>, welkom in de cursus PHP."</span></span>
<span class="line">    <span class="token comment">// Beschouw dit terug als de best-practice.</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Laten we nu even wat frequent gebruikte bewerkingen met strings bekijken.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// definiëren van strings</span></span>
<span class="line">    <span class="token variable">$tekst1</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"The quick brown fox"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$tekst2</span> <span class="token operator">=</span> <span class="token string double-quoted-string">" jumped over the lazy dog."</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// toevoegen van een string aan een variabele</span></span>
<span class="line">    <span class="token variable">$tekst3</span> <span class="token operator">=</span> <span class="token variable">$tekst1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$tekst3</span> <span class="token operator">.=</span> <span class="token variable">$tekst2</span><span class="token punctuation">;</span> <span class="token comment">// $tekst2 toevoegen aan $tekst3</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// tekst in 'lowercase' weergeven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// tekst in 'uppercase' weergeven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// de eerste letter het eerste woord van de string in 'uppercase' weergeven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">ucfirst</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// alle eerste letters van de woorden in de string in 'uppercase'weergeven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">ucwords</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// de lengte van een string weergeven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// alle spaties vooraan en achteraan een string verwijderen</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"A"</span> <span class="token operator">.</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token string double-quoted-string">" B C D "</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"E"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// het resultaat is dan AB C DE</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// zoek het woord 'brown' en geef vanaf daar de string weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"brown"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// vervang het woord 'quick' in de string door 'super-fast'</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"quick"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"super-fast"</span><span class="token punctuation">,</span> <span class="token variable">$tekst3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// herhaal een aantal keer de string</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">str_repeat</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geef het stukje string weer vanaf letter 5 en 10 letters lang</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geeft de positie van het woord 'brown' weer in de string</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"brown"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// zoek de letter 'z' en geef vanaf daar de string weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">strchr</span><span class="token punctuation">(</span><span class="token variable">$tekst3</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"z"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="integer" tabindex="-1"><a class="header-anchor" href="#integer"><span>Integer</span></a></h4>
<p>Bij het werken met getallen zijn ook hier de wiskundige regels geldig.</p>
<p>Laten we even frequent gebruikte bewerkingen en functies met integers bekijken:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// definiëren van integers</span></span>
<span class="line">    <span class="token variable">$getal1</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$getal2</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Een gewone berekening</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token variable">$getal1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token variable">$getal2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// daarnaast bestaan ook de ++ , -- , += , -= , *= en /= mogelijkheden</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft de absulute waarde weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">-</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft 2 tot de 8ste macht weer </span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft de vierkantswortel van 100 weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft de rest van de deling 20/7 weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">fmod</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft een willekeurig getal weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft een willekeurig getal tussen 1 en 10 weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft weer als een variabele een integer is</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">is_int</span><span class="token punctuation">(</span><span class="token variable">$getal2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="floating-point" tabindex="-1"><a class="header-anchor" href="#floating-point"><span>Floating point</span></a></h4>
<p>De definitie en bewerkingen van integers zijn hier eveneens van toepassing, er zijn enkele specifieke functies mogelijk:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$getal1</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$getal2</span> <span class="token operator">=</span> <span class="token variable">$getal1</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$getal3</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het komma getal weer afgerond tot 1 cijfer na de komma</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token variable">$getal1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het komma getal weer als een integer afgerond naar boven</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">ciel</span><span class="token punctuation">(</span><span class="token variable">$getal2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het komma getal weer als een integer afgerond naar beneden</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">floor</span><span class="token punctuation">(</span><span class="token variable">$getal3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft weer als een variabele een float is</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">is_float</span><span class="token punctuation">(</span><span class="token variable">$getal3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft weer als een variabele numeriek is</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$getal2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Dit zal dus zowel bij een integer als een float waar als resultaat hebben.</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="array" tabindex="-1"><a class="header-anchor" href="#array"><span>Array</span></a></h4>
<p>Net zoals in andere code talen kunnen we hier ook gebruik maken van een array die om het even welk dataytype kan bevatten.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// definiëren van een lege array</span></span>
<span class="line">    <span class="token variable">$numbers</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// definiëren van een array met voor gedefinieerde objecten</span></span>
<span class="line">    <span class="token variable">$numbers</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geeft het object weer op de index positie startende vanaf 0 </span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token variable">$numbers</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 8</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// definiëren van een array met verschillende datatypes</span></span>
<span class="line">    <span class="token variable">$mixed</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"fox"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"dog"</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"x"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"y"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"z"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geeft een object in een geneste array terug</span></span>
<span class="line">    <span class="token variable">$mixed</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// y</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// een waarde toewijzen aan een index</span></span>
<span class="line">    <span class="token variable">$mixed</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"cat"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// als we dit doen voor een niet bestaande index zal die aangemaakt worden</span></span>
<span class="line">    <span class="token variable">$mixed</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"mouse"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// als je niet weet hoeveel indexen er zijn kan je op die manier iets aan het einde toevoegen</span></span>
<span class="line">    <span class="token variable">$mixed</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"horse"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// vanaf PHP versie 5.4 en later is er een verkorte notitiewijze</span></span>
<span class="line">    <span class="token variable">$numbers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Stel dat je niet exact weet wat er in een array zit en je wil dat om te debuggen even tonen dan kan je dit op volgende manier doen:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$mixed</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"fox"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"dog"</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"x"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"y"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"z"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// debugging</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;pre>"</span> <span class="token operator">.</span> <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$mixed</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;/pre>"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="@source/08_php/images/afbeelding2.png" alt="download"></p>
<p>Een array is dus een geordende structuur op basis van een index nummer. In PHP hebben we echter ook een niet geordende array (associative array) op basis van labels. In vak termen spreekt men van de <strong>Key</strong> en de <strong>Value</strong>.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// definiëren van een associative array</span></span>
<span class="line">    <span class="token variable">$assoc</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Voornaam"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"Jan"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"Naam"</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"Janssen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geeft de value terug voor de key = Voornaam</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token variable">$assoc</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"Voornaam"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// een value voor een key aanpassen doe je zo</span></span>
<span class="line">    <span class="token variable">$assoc</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"Voornaam"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Piet"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Laten we nu even enkele frequent gebruikte functies bij arrays bekijken.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// we definiëren een array met nummers in willekeurige volgorde</span></span>
<span class="line">    <span class="token variable">$numbers</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het aantal indexen in een array weer</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het grootste getal weer in een array</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft het kleinste getal weer in een array</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Sorteert de array van klein naar groot</span></span>
<span class="line">    <span class="token function">sort</span><span class="token punctuation">(</span><span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Sorteert de array van groot naar klein</span></span>
<span class="line">    <span class="token function">rsort</span><span class="token punctuation">(</span><span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Maakt een door komma gescheiden string van de array</span></span>
<span class="line">    <span class="token variable">$num_string</span> <span class="token operator">=</span> <span class="token function">implode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">" , "</span><span class="token punctuation">,</span> <span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Maakt een array van een door komma gescheiden string</span></span>
<span class="line">    <span class="token variable">$input</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">" , "</span><span class="token punctuation">,</span> <span class="token variable">$num_string</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft weer als een iets voorkomt in een array</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token variable">$numbers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// True</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Geeft de key's uit een array</span></span>
<span class="line">    <span class="token function">array_keys</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Geeft de value's uit een array</span></span>
<span class="line">    <span class="token function">array_values</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan nog meer functies terugvinden op <a href="https://www.php.net/manual/en/ref.array.php" target="_blank" rel="noopener noreferrer">php.net</a></p>
<h4 id="booleans" tabindex="-1"><a class="header-anchor" href="#booleans"><span>Booleans</span></a></h4>
<p>In PHP kan je eveneens een <strong>true</strong> of <strong>false</strong> resultaat bewaren in een variabele.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Definiëren van een boolean</span></span>
<span class="line">    <span class="token variable">$result1</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$result2</span> <span class="token operator">=</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Controleren of een variabele van het datatype boolean is</span></span>
<span class="line">    <span class="token function">is_bool</span><span class="token punctuation">(</span><span class="token variable">$result1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ongedefinieerd-of-null" tabindex="-1"><a class="header-anchor" href="#ongedefinieerd-of-null"><span>Ongedefinieerd of NULL</span></a></h4>
<p>Je kan in PHP perfect een variabele aanmaken die nog geen value heeft.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Definiëren van een variabele zonder waarde of datatype</span></span>
<span class="line">    <span class="token variable">$var1</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Controlleren of een variabele ongedefinieerd is</span></span>
<span class="line">    <span class="token function">is_nul</span><span class="token punctuation">(</span><span class="token variable">$var1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Controlleren of een variabele gedefinieerd is</span></span>
<span class="line">    <span class="token function">is_set</span><span class="token punctuation">(</span><span class="token variable">$var1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="conversie-naar-een-ander-dataype" tabindex="-1"><a class="header-anchor" href="#conversie-naar-een-ander-dataype"><span>Conversie naar een ander dataype</span></a></h4>
<p>Net zoals in C# is het in PHP 'good-practice' om conversie naar een andere datatype zelf te voorzien i.p.v. op PHP te vertrouwen om het voor jou te doen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// We definiëren een nummer</span></span>
<span class="line">    <span class="token variable">$var</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// We converteren dit naar een string</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token keyword type-casting">string</span><span class="token punctuation">)</span> <span class="token variable">$var</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="constanten" tabindex="-1"><a class="header-anchor" href="#constanten"><span>Constanten</span></a></h4>
<p>In PHP is er een duidelijk verschil tussen een variabele en een constante. De naam van een constante is steeds in hoofdletters geschreven wordt aangemaakt via een functie en kan ook slechts 1x gedefinieerd worden.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Een constante definiëren</span></span>
<span class="line">    <span class="token function">define</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"MAX_WIDTH"</span><span class="token punctuation">,</span> <span class="token number">980</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// geeft de waarde van de constante terug</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token constant">MAX_WIDTH</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="logische-beslissingen" tabindex="-1"><a class="header-anchor" href="#logische-beslissingen"><span>Logische beslissingen</span></a></h3>
<p>Logische beslissingen in PHP werken op identiek dezelfde wijze als in c#. De opbouw van condities is dan weer identiek aan dat van Javascript.</p>
<h4 id="vergelijkingsoperator" tabindex="-1"><a class="header-anchor" href="#vergelijkingsoperator"><span>vergelijkingsoperator</span></a></h4>
<ul>
<li><code v-pre>==</code> : vergelijkt de waarden zonder rekening te houden met hun datatype.</li>
<li><code v-pre>===</code> : vergelijkt de waarden en hun datatype.</li>
<li><code v-pre>&lt;&gt;</code> of <code v-pre>!=</code> : is niet gelijk aan zonder rekening te houden met hun dataype.</li>
<li><code v-pre>!==</code> : is niet gelijk aan.</li>
<li><code v-pre>&lt;</code> en <code v-pre>&gt;</code> : groter en kleiner dan.</li>
<li><code v-pre>&lt;=</code> en <code v-pre>&gt;=</code> : groter of gelijk aan en kleiner of gelijk aan.</li>
<li><code v-pre>&lt;=&gt;</code> : geeft een 0 als ze gelijk zijn, een 1 als de eerste waarde groter is dan de tweede en een -1 voor het omgekeerde.</li>
</ul>
<h4 id="if-elseif-en-else" tabindex="-1"><a class="header-anchor" href="#if-elseif-en-else"><span>if, elseif en else</span></a></h4>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$a</span> <span class="token operator">></span> <span class="token variable">$b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is groter dan b"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">elseif</span><span class="token punctuation">(</span><span class="token variable">$a</span> <span class="token operator">&lt;</span> <span class="token variable">$b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is kleiner dan b"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a en b zijn gelijk"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="switch" tabindex="-1"><a class="header-anchor" href="#switch"><span>switch</span></a></h4>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is gelijk aan 0"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is gelijk aan 1"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is gelijk aan 2"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is gelijk aan 3"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"a is niet gelijk aan 0, 1, 2 of 3"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ternary-operator" tabindex="-1"><a class="header-anchor" href="#ternary-operator"><span>Ternary operator</span></a></h4>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$stock</span><span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token variable">$stock</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'In stock'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'Sold out'</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="herhalingen" tabindex="-1"><a class="header-anchor" href="#herhalingen"><span>Herhalingen</span></a></h3>
<p>De reeds gekende herhalingen komen ook in PHP terug.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// While lus</span></span>
<span class="line">    <span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token variable">$i</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", "</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Do while lus</span></span>
<span class="line">    <span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">do</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"The number is "</span> <span class="token operator">.</span> <span class="token variable">$i</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// For lus</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token variable">$i</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", "</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Foreach lus met een geordende array</span></span>
<span class="line">    <span class="token variable">$ages</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$ages</span> <span class="token keyword">as</span> <span class="token variable">$age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Age: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$age</span><span class="token punctuation">}</span></span> &lt;br />"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Foreach lus met een ongeordende array</span></span>
<span class="line">    <span class="token variable">$persoon</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token string double-quoted-string">"Voornaam"</span>  <span class="token operator">=></span> <span class="token string double-quoted-string">"Jan"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">"Naam"</span>      <span class="token operator">=></span> <span class="token string double-quoted-string">"Janssens"</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token string double-quoted-string">"Adres"</span>     <span class="token operator">=></span> <span class="token string double-quoted-string">"Fietslaan 2"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">"Stad"</span>      <span class="token operator">=></span> <span class="token string double-quoted-string">"Wandelgem"</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">"Postcode"</span>  <span class="token operator">=></span> <span class="token string double-quoted-string">"4278"</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$persoon</span> <span class="token keyword">as</span> <span class="token variable">$attribuut</span> <span class="token operator">=></span> <span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attribuut</span><span class="token punctuation">}</span></span> : <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token punctuation">}</span></span>&lt;br />"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In PHP hebben we ook de mogelijkheid om de rest van een herhalingslus over te slaan en onmiddellijk terug naar de conditie van de lus te gaan.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Hier zal nummer 5 overgeslagen worden</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">continue</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token variable">$i</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", "</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We kunnen echter nog een stap verder gaan en de lus vroegtijdig beëindigen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Hier zal bij nummer 5 de lus beëindigd worden</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">==</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token variable">$i</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", "</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="functies" tabindex="-1"><a class="header-anchor" href="#functies"><span>Functies</span></a></h3>
<p>De structuur van functies in PHP is terug vrij vergelijkbaar aan die van andere programeertalen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Een voorbeeld van een methode met een default waarde voor een argument</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">groet</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token operator">=</span><span class="token string double-quoted-string">"student"</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Beste <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$input</span><span class="token punctuation">}</span></span>,"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token variable">$naam</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Jan Janssens"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">groet</span><span class="token punctuation">(</span><span class="token variable">$naam</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Een voorbeeld van een functie</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">som</span><span class="token punctuation">(</span><span class="token variable">$getal1</span><span class="token punctuation">,</span><span class="token variable">$getal2</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$som</span> <span class="token operator">=</span> <span class="token variable">$getal1</span> <span class="token operator">+</span> <span class="token variable">$getal2</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token variable">$som</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token variable">$resultaat</span> <span class="token operator">=</span> <span class="token function">som</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning">
<p class="hint-container-title">Noot</p>
<p>Als je meerdere gegevens als resultaat uit een functie wil teruggeven kan je dat doen a.d.h.v. een array.</p>
</div>
<h4 id="scope-van-variabelen" tabindex="-1"><a class="header-anchor" href="#scope-van-variabelen"><span>Scope van variabelen</span></a></h4>
<p>Je kan niet zomaar aan een globale variabele binnen in een functie.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"geldig buiten de functie"</span><span class="token punctuation">;</span>   <span class="token comment">// globale variabele</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"geldig binnen de functie"</span><span class="token punctuation">;</span>  <span class="token comment">// locale variabele</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Variable voor de functie = <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$bar</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Variable na de functie = <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$bar</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Als je dit zou testen zal je merken dat <code v-pre>$bar</code> na de functie ongewijzigd is. Dit komt door dat je in de functie eigenlijk tijdelijk een locale variabele hebt aangemaakt met dezelfde naam i.p.v. de naam te wijzigen zoals je verwacht had.</p>
<p>Om dit op te lossen moeten we 1 regeltje toevoegen:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"geldig buiten de functie"</span><span class="token punctuation">;</span>   <span class="token comment">// globale variabele</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">global</span> <span class="token variable">$bar</span><span class="token punctuation">;</span>    <span class="token comment">// Hiermee maak je de globale variable beschikbaar binnen de functie.</span></span>
<span class="line">        <span class="token variable">$bar</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"geldig binnen de functie"</span><span class="token punctuation">;</span>  <span class="token comment">// locale variabele</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Variable voor de functie = <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$bar</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Variable na de functie = <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$bar</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning">
<p class="hint-container-title">Noot</p>
<p>De techniek hierboven met het gebruik van <code v-pre>global</code> zal zelden gebruikt worden, maar het verduidelijkt wel het onderscheid tussen een globaal en lokaal gedefinieerde variabele.</p>
</div>
<h3 id="hergebruiken-van-code" tabindex="-1"><a class="header-anchor" href="#hergebruiken-van-code"><span>Hergebruiken van code</span></a></h3>
<p>In een website zijn sommige delen meermaals nodig, denk maar aan de header, navigatiebar, footer, ...</p>
<p>Je kan die in een aparte file voorzien en dan toevoegen aan je pagina.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span> <span class="token string single-quoted-string">'includes/header.php'</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></span>
<span class="line"></span>
<span class="line">// de html en php code van de pagina...</span>
<span class="line"></span>
<span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">include</span> <span class="token string single-quoted-string">'includes/footer.php'</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="php-en-html-combineren" tabindex="-1"><a class="header-anchor" href="#php-en-html-combineren"><span>PHP en HTML combineren</span></a></h3>
<p>Ondanks het feit dat je een <code v-pre>.php</code> file hebt kan die hoofdzakelijk HTML bevatten met hier en daar wat PHP code tussen.</p>
<p>Je hebt meerdere mogelijkheden om PHP en HTML te combineren.</p>
<p>Je kan bijvoorbeeld het volgende schrijven:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> </span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;table>\n"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;tr>"</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$j</span><span class="token punctuation">}</span></span>x<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$i</span><span class="token punctuation">}</span></span>&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td>"</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">*</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/tr>\n"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/table>\n"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Waarmee je via PHP de HTML code voor een tabel gaat genereren.</p>
<p>Maar je kan hetzelfde ook als volgt schrijven:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span></span>
<span class="line">    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$j</span><span class="token punctuation">}</span></span>x<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$i</span><span class="token punctuation">}</span></span>"</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">*</span><span class="token variable">$i</span><span class="token punctuation">)</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endfor</span> <span class="token delimiter important">?></span></span></span>
<span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endfor</span> <span class="token delimiter important">?></span></span>    </span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="klassen" tabindex="-1"><a class="header-anchor" href="#klassen"><span>Klassen</span></a></h3>
<p>Ook in PHP kunnen we gebruik maken van klassen.</p>
<p>Je defineert een klasse als volgt:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token keyword">class</span> <span class="token class-name-definition class-name">Account</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// variabelen</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword type-declaration">int</span> <span class="token variable">$number</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword type-declaration">string</span> <span class="token variable">$type</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword type-declaration">float</span> <span class="token variable">$balance</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// constructor</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$number</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$balance</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">number</span> <span class="token operator">=</span> <span class="token variable">$number</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">type</span> <span class="token operator">=</span> <span class="token variable">$type</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">balance</span> <span class="token operator">=</span> <span class="token variable">$balance</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// functies</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">deposit</span><span class="token punctuation">(</span><span class="token keyword type-hint">float</span> <span class="token variable">$amount</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">float</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// code</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">withdraw</span><span class="token punctuation">(</span><span class="token keyword type-hint">float</span> <span class="token variable">$amount</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">float</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// code</span></span>
<span class="line">        <span class="token punctuation">}</span>   </span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je maakt als volgt een nieuwe variabele van het type van jou klasse:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">    <span class="token variable">$account</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// of</span></span>
<span class="line">    <span class="token variable">$account</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token number">20147596</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Visa'</span><span class="token punctuation">,</span> <span class="token number">2500.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip">
<p class="hint-container-title">Herhaling</p>
<p>Om de nieuwe leerstof nog beter te begrijpen kan je onderstaande bronnen even bekijken:</p>
<ul>
<li><a href="https://www.linkedin.com/learning/php-essential-training-2" target="_blank" rel="noopener noreferrer">LinkedIn Learning - PHP Essential Training</a></li>
<li><a href="https://www.tutorialrepublic.com/php-tutorial/" target="_blank" rel="noopener noreferrer">TutorialRepublic - PHP Tutorial</a></li>
</ul>
</div>
<h3 id="php-verkennen-via-een-voorbeeld" tabindex="-1"><a class="header-anchor" href="#php-verkennen-via-een-voorbeeld"><span>PHP verkennen via een voorbeeld</span></a></h3>
<p>We maken een pagina die de maaltafels zal tonen. De inhoud van die pagina zal op de server gegenereerd worden via PHP.</p>
<p>We maken onder <code v-pre>C:\Apache\htdocs</code> een folder <code v-pre>Webdevelopment</code> aan en creëren daar het bestand <code v-pre>maaltafels.php</code> met volgende inhoud:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Maaltafels<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span> Maaltafels <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> </span>
<span class="line">            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h2>Maaltafel van <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$i</span><span class="token punctuation">}</span></span>\n&lt;/h2>"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token delimiter important">?></span></span> </span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We plaatsen de <code v-pre>\n</code> in de code om dat de door php gegenereerde html code dan mooier/leesbaarder is. Je kan die code zien door de paginabron van je webpagina te bekijken.</p>
<p>Vervolgens maken we de effectieve maaltafel aan in een tabel:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;table>\n"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;tr>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$j</span><span class="token punctuation">}</span></span>x<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$i</span><span class="token punctuation">}</span></span>&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td>"</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">*</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/tr>\n"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/table>\n"</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning">
<p class="hint-container-title">Noot</p>
<p><code v-pre>&quot;&lt;td&gt;{$j*$i}&lt;/td&gt;&quot;</code> zou fout zijn, er mogen geen uitdrukkingen in {} geplaatst worden.</p>
</div>
<p>Tot slot vervangen we de binnenste geneste for-lus door een functie:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Maaltafels<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> </span>
<span class="line">            <span class="token keyword">function</span> <span class="token function-definition function">maaltafel</span><span class="token punctuation">(</span><span class="token variable">$k</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;table>\n"</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;tr>"</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$j</span><span class="token punctuation">}</span></span>x<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$k</span><span class="token punctuation">}</span></span>&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td>"</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$j</span><span class="token operator">*</span><span class="token variable">$k</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/td>"</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/tr>\n"</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/table>\n"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token delimiter important">?></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span> Maaltafels <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> </span>
<span class="line">            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h2>Maaltafel van <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$i</span><span class="token punctuation">}</span></span>\n&lt;/h2>"</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token function">maaltafel</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token delimiter important">?></span></span> </span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="klasopdracht" tabindex="-1"><a class="header-anchor" href="#klasopdracht"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>Kick-off klassikale opdracht</p>
</div>
<h2 id="week-2-gebruik-van-web-api-s-in-php" tabindex="-1"><a class="header-anchor" href="#week-2-gebruik-van-web-api-s-in-php"><span>Week 2 - Gebruik van WEB-API's in PHP</span></a></h2>
<h3 id="een-web-api-raadplegen-vanuit-php" tabindex="-1"><a class="header-anchor" href="#een-web-api-raadplegen-vanuit-php"><span>Een WEB-API raadplegen vanuit PHP</span></a></h3>
<p>Het verschil met wat we in javascript hebben gedaan is hier dat de client geen verbinding meer hoeft te maken met een andere server. Het is de server die dit nu zal doen en het resultaat gewoon naar de client browser sturen.</p>
<p>We gebruiken hiervoor cURL (client URL library), een techniek die veel gebruikt wordt in LINIX/UNIX en de protocols FTP, HTTP, telnet, ... ondersteunt.</p>
<p>Meer informatie kan je steeds terugvinden op <a href="https://www.php.net/manual/en/book.curl.php" target="_blank" rel="noopener noreferrer">PHP.net</a> of <a href="https://phppot.com/php/php-curl/" target="_blank" rel="noopener noreferrer">PHPPOT.com</a>.</p>
<h4 id="de-techniek-even-uitproberen" tabindex="-1"><a class="header-anchor" href="#de-techniek-even-uitproberen"><span>De techniek even uitproberen</span></a></h4>
<p>We gebruiken terug httpbin.org om cURL even te testen:</p>
<p>Maak het bestand <strong>curl.php</strong>:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$url</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"https://httpbin.org/get?a=1&amp;b=test"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">curlRequest</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">print</span> <span class="token variable">$content</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">curlRequest</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$ch</span> <span class="token operator">=</span> <span class="token function">curl_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_URL</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_HEADER</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_RETURNTRANSFER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_FOLLOWLOCATION</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_VERBOSE</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_SSL_VERIFYPEER</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token function">curl_exec</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_close</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je stelt vast dat de variabele $content nu een string bevat met naast de data ook allerhande header informatie.
Je kan deze string als volgt decoderen naar een JSON formaat:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Om de informatie nu op je webpagina te krijgen kan je als volgt tewerk gaan:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>a is <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token property">args</span><span class="token operator">-></span><span class="token property">a</span><span class="token punctuation">}</span></span>&lt;div>"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>b is <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token property">args</span><span class="token operator">-></span><span class="token property">b</span><span class="token punctuation">}</span></span>&lt;div>"</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="deze-techniek-even-toepassen-op-een-web-api-die-we-reeds-kennen" tabindex="-1"><a class="header-anchor" href="#deze-techniek-even-toepassen-op-een-web-api-die-we-reeds-kennen"><span>Deze techniek even toepassen op een WEB-API die we reeds kennen</span></a></h4>
<p>We gebruiken terug cURL om via openweathermap het weer op te vragen:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// variabelen</span></span>
<span class="line">    <span class="token variable">$stad</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"brugge"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$apiid</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"plaats hier je eigen api id voor openweathermap"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$url</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"https://api.openweathermap.org/data/2.5/weather?q="</span><span class="token operator">.</span><span class="token variable">$stad</span><span class="token operator">.</span><span class="token string double-quoted-string">"&amp;appid="</span><span class="token operator">.</span><span class="token variable">$apiid</span><span class="token operator">.</span><span class="token string double-quoted-string">"&amp;units=metric&amp;lang=nl"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// functie curl</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">curlRequest</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$ch</span> <span class="token operator">=</span> <span class="token function">curl_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_URL</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_HEADER</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_RETURNTRANSFER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_FOLLOWLOCATION</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_VERBOSE</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_SSL_VERIFYPEER</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token function">curl_exec</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">curl_close</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Curl request</span></span>
<span class="line">    <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">curlRequest</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Visualiseren</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>temperatuur is <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token property">main</span><span class="token operator">-></span><span class="token property">temp</span><span class="token punctuation">}</span></span>&lt;/div>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>de weersomschrijving: \"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token property">weather</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token property">description</span><span class="token punctuation">}</span></span>\"&lt;/div>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;img id=\"icoon\" src=\"http://openweathermap.org/img/wn/<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token property">weather</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token property">icon</span><span class="token punctuation">}</span></span>@2x.png\">&lt;/img>"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="zelf-een-web-api-schrijven-in-php" tabindex="-1"><a class="header-anchor" href="#zelf-een-web-api-schrijven-in-php"><span>Zelf een WEB-API schrijven in PHP</span></a></h3>
<p>Als we een WEB-API gebruiken sturen we een HTTP GET request naar een url en krijgen een JSON response terug.</p>
<h4 id="opvangen-van-een-http-get-request" tabindex="-1"><a class="header-anchor" href="#opvangen-van-een-http-get-request"><span>Opvangen van een HTTP GET request</span></a></h4>
<p>Maak hiervoor een file <code v-pre>testapi.php</code> aan. Dat zal tevens onze url zijn.</p>
<p>Laat ons een WEB-API maken waar we 2 cijfers aan kunnen geven en die als response alle gehele getallen tussen die cijfers geeft.</p>
<p>Onze HTTP GET Request zou er dus als volgt kunnen uitzien: <code v-pre>testapi.php?start=1&amp;eind=10</code>.</p>
<p>Om die twee getallen uit de GET request te halen gaan we als volgt te werk:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// GET input ontvangen</span></span>
<span class="line">    <span class="token variable">$start</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">int</span><span class="token punctuation">)</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"start"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$eind</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">int</span><span class="token punctuation">)</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"eind"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$start</span><span class="token punctuation">,</span><span class="token variable">$eind</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We gebruiken <code v-pre>(int)</code> om zeker te zijn dat we integers definiëren i.p.v. strings.</p>
<h4 id="de-array-van-cijfers-maken" tabindex="-1"><a class="header-anchor" href="#de-array-van-cijfers-maken"><span>De array van cijfers maken</span></a></h4>
<p>We werken het gemakkelijkst met een array in PHP, je kan deze ook eenvoudig omvormen naar JSON.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Array opbouwen</span></span>
<span class="line">    <span class="token variable">$output</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$index</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token variable">$start</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token variable">$eind</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"getal_"</span><span class="token operator">.</span><span class="token variable">$index</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$output</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$i</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$index</span><span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$output</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="een-json-response-versturen" tabindex="-1"><a class="header-anchor" href="#een-json-response-versturen"><span>Een JSON response versturen</span></a></h4>
<p>Tot slot zetten we de header voor ons antwoord juist en geven we een response via <code v-pre>echo</code>.
M.b.v. <code v-pre>json_encode</code> kunnen we eenvoudig de array omvormen tot een JSON object.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Response aanmaken</span></span>
<span class="line">    <span class="token comment">// header instellen</span></span>
<span class="line">    <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Content-Type: application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// response</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$output</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="klasopdracht-1" tabindex="-1"><a class="header-anchor" href="#klasopdracht-1"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>WEB API in de klassikale opdracht</p>
</div>
<h3 id="take-home-opdracht" tabindex="-1"><a class="header-anchor" href="#take-home-opdracht"><span>Take-home opdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Voorbereiding Form validation via PHP</p>
<p>Om de leerstof van de volgende les nog beter te begrijpen bekijk je alvast hoofdstukken 1 t.e.m. 4 van de videotutorial <a href="https://www.linkedin.com/learning/php-with-mysql-essential-training-1-the-basics" target="_blank" rel="noopener noreferrer">PHP with mySQL essential training 1 the basics</a> op LinkedIn Learing</p>
</div>
<h2 id="week-3-gebruik-van-forms-met-php" tabindex="-1"><a class="header-anchor" href="#week-3-gebruik-van-forms-met-php"><span>Week 3 - Gebruik van Forms met PHP</span></a></h2>
<h3 id="http-request" tabindex="-1"><a class="header-anchor" href="#http-request"><span>HTTP Request</span></a></h3>
<p><strong>HTTP GET</strong> : Er gebeuren geen wijzigingen op de server.</p>
<ul>
<li>De data zit in de url geëncodeerd bv <code v-pre>http://...?a=2&amp;b=test</code></li>
<li>De browser geeft geen waarschuwing als je de pagina herlaadt en de GET dus nogmaals uitvoerd.</li>
<li>De data is dus leesbaar in de URL, bijgevolg is dit geen geschikte manier om gevoelige informatie door te sturen.</li>
<li>De lengte van een URL is beperkt, bijgevolg ook de hoeveelheid data dat je kan doorsturen.</li>
</ul>
<p><strong>HTTP POST</strong> : De server ontvangt data en doet een wijziging, bv de ontvangen data toevoegen aan een database.</p>
<ul>
<li>De data wordt meegstuurd in 'content' van de HTTP POST</li>
<li>De browser geeft een waarschuwing als je de pagina herlaadt en de POST nogmaals zou gebeuren.</li>
<li>Een HTTP POST wordt meestal uitgevoerd door een FORM met als ACTION POST</li>
<li>Deze methode is meer geschikt om gevoelige data te versturen.</li>
<li>Je kan veel meer data op die manier versturen.</li>
</ul>
<p>Meer informatie hierover kan je terugvinden op <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" target="_blank" rel="noopener noreferrer">developer.mozilla.org</a></p>
<h3 id="laten-we-dit-even-toepassen-in-een-voorbeeld" tabindex="-1"><a class="header-anchor" href="#laten-we-dit-even-toepassen-in-een-voorbeeld"><span>Laten we dit even toepassen in een voorbeeld</span></a></h3>
<p>We maken een bestand <code v-pre>form.php</code> met volgende inhoud:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">></span></span>
<span class="line"><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string double-quoted-string">"en"</span><span class="token operator">></span></span>
<span class="line">    <span class="token operator">&lt;</span>head<span class="token operator">></span></span>
<span class="line">        <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string double-quoted-string">"UTF-8"</span><span class="token operator">></span></span>
<span class="line">        <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">"viewport"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span></span>
<span class="line">        <span class="token operator">&lt;</span>title<span class="token operator">></span>Form<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span></span>
<span class="line">    <span class="token operator">&lt;</span>body<span class="token operator">></span></span>
<span class="line">        <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string double-quoted-string">"./form-handling.php"</span> method<span class="token operator">=</span><span class="token string double-quoted-string">"post"</span><span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>ul<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string double-quoted-string">"number1"</span><span class="token operator">></span>Number <span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"number"</span> id<span class="token operator">=</span><span class="token string double-quoted-string">"number1"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"number1"</span><span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string double-quoted-string">"operation"</span><span class="token operator">></span>operation<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string double-quoted-string">"operation"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"operation"</span><span class="token operator">></span></span>
<span class="line">                        <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">"+"</span><span class="token operator">></span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span></span>
<span class="line">                        <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">"-"</span><span class="token operator">></span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span></span>
<span class="line">                        <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">"*"</span><span class="token operator">></span><span class="token operator">*</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span></span>
<span class="line">                        <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string double-quoted-string">"/"</span><span class="token operator">></span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string double-quoted-string">"number2"</span><span class="token operator">></span>Number <span class="token number">2</span><span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"number"</span> id<span class="token operator">=</span><span class="token string double-quoted-string">"number2"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"number2"</span><span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string double-quoted-string">"submit"</span><span class="token operator">></span>Calculate<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We kiezen dus duidelijk voor een POST methode bij de ACTION van deze form.</p>
<p>Onze form ziet er als volgt uit:</p>
<p><img src="@source/08_php/images/afbeelding5.png" alt="afbeelding"></p>
<p>Als je in Chrome de ontwikkelomgeving opent [F12] en naar het tabblad <code v-pre>netwerk</code> gaat kan je volgen welke informatie wordt verstuurd:</p>
<p><img src="@source/08_php/images/afbeelding6.png" alt="afbeelding"></p>
<p>De afhandeling hiervan gebeurt in het bestand <code v-pre>form-handling.php</code> met volgende inhoud:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>form handling<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">            <span class="token comment">// parameters uit content halen</span></span>
<span class="line">            <span class="token variable">$number1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">float</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'number1'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">            <span class="token variable">$operation</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'operation'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">'+'</span><span class="token punctuation">;</span> </span>
<span class="line">            <span class="token variable">$number2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">float</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'number2'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line">            <span class="token comment">// berekening uitvoeren</span></span>
<span class="line">            <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$operation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token string single-quoted-string">'+'</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">+</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token string single-quoted-string">'-'</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">-</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token string single-quoted-string">'*'</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">*</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">case</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">/</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">                    <span class="token comment"># code...</span></span>
<span class="line">                    <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// het resultaat weergeven</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$number1</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$operation</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$number2</span><span class="token punctuation">}</span></span> is <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$result</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token delimiter important">?></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We kunnen de doorgekregen gegevens uit de content halen met de superglobal <code v-pre>$_POST</code>. Als je echter de pagina herlaadt krijg je een error, door met de operator ?? te werken kan je dit omzijlen.</p>
<p>Als we dit nu allemaal op één pagina willen kunnen we dit doen door te controleren of we een POST request ontvangen.</p>
<p>Dit ziet er dan als volgt uit:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Single page form<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./form-single-page.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Number 1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number1<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>operation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>operation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>operation<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>operation<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>+<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Number 1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span>
<span class="line">                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number2<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></span>
<span class="line">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Calculate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'REQUEST_METHOD'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'POST'</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token variable">$number1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">float</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'number1'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">                <span class="token variable">$operation</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'operation'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">'+'</span><span class="token punctuation">;</span> </span>
<span class="line">                <span class="token variable">$number2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">float</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'number2'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">                <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$operation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">case</span> <span class="token string single-quoted-string">'+'</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">+</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">case</span> <span class="token string single-quoted-string">'-'</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">-</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">case</span> <span class="token string single-quoted-string">'*'</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">*</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">case</span> <span class="token string single-quoted-string">'/'</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token variable">$result</span><span class="token operator">=</span><span class="token variable">$number1</span><span class="token operator">/</span><span class="token variable">$number2</span><span class="token punctuation">;</span></span>
<span class="line">                        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">                        <span class="token comment"># code...</span></span>
<span class="line">                        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$number1</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$operation</span><span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$number2</span><span class="token punctuation">}</span></span> is <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$result</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token delimiter important">?></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="klasopdracht-2" tabindex="-1"><a class="header-anchor" href="#klasopdracht-2"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>Aanmaken van de info pagina van de klassikale opdracht</p>
</div>
<h3 id="take-home-opdracht-1" tabindex="-1"><a class="header-anchor" href="#take-home-opdracht-1"><span>Take-home opdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Voorbereiding PHP en MySql</p>
<p>Om de leerstof van de volgende les nog beter te begrijpen bekijk je alvast hoofdstukken 5 t.e.m. 9 van de videotutorial <a href="https://www.linkedin.com/learning/php-with-mysql-essential-training-1-the-basics" target="_blank" rel="noopener noreferrer">PHP with mySQL essential training 1 the basics</a> op LinkedIn Learing</p>
</div>
<h2 id="week-4-werken-met-data-in-een-mysql-database-in-php" tabindex="-1"><a class="header-anchor" href="#week-4-werken-met-data-in-een-mysql-database-in-php"><span>Week 4 - Werken met data in een mySQL database in PHP</span></a></h2>
<p><a href="/files/cheatsheet_sql.pdf">Hier</a> kan je een cheatsheet voor SQL terugvinden ter ondersteuning van taken, toetsen, projecten en werkplekleren.</p>
<h3 id="een-oefendatabase-aanmaken-en-crud-testen" tabindex="-1"><a class="header-anchor" href="#een-oefendatabase-aanmaken-en-crud-testen"><span>Een oefendatabase aanmaken en CRUD testen</span></a></h3>
<p>Voor alle database gerelateerde acties verwijs ik naar de cursus Databases.</p>
<p>We starten met de aanmaak van een database en een gebruiker. Je kan dit in jou favarite tool doen zoals <strong>mySQL Workbench</strong> of <strong>phpMyAdmin</strong>.</p>
<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre v-pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> vives<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">USE</span> vives<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'webuser'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">"secretpassword"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> vives<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'webuser'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vervolgens maken we een tabel, ook schema genoemd, aan.</p>
<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre v-pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> subjects <span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span></span>
<span class="line">menu_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">position <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">visible <span class="token keyword">TINYINT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>De meest voor de hand liggende interacties met een database zullen Create, Read, Update en Delete query's zijn. Hier zal vaar verwezen worden naar <strong>CRUD</strong> query's.</p>
<p>Laten we even enkele CRUD query's uitvoeren op onze tabel:</p>
<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre v-pre><code><span class="line"><span class="token comment">/* Create */</span></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> subjects<span class="token punctuation">(</span>menu_name<span class="token punctuation">,</span> position<span class="token punctuation">,</span> visible<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'About global bank'</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> subjects<span class="token punctuation">(</span>menu_name<span class="token punctuation">,</span> position<span class="token punctuation">,</span> visible<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Payments'</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> subjects<span class="token punctuation">(</span>menu_name<span class="token punctuation">,</span> position<span class="token punctuation">,</span> visible<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Loans'</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> subjects<span class="token punctuation">(</span>menu_name<span class="token punctuation">,</span> position<span class="token punctuation">,</span> visible<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Contact'</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/* Read */</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> subjects <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/* Update */</span></span>
<span class="line"><span class="token keyword">UPDATE</span> subjects <span class="token keyword">SET</span> position<span class="token operator">=</span><span class="token string">'3'</span><span class="token punctuation">,</span> visible<span class="token operator">=</span><span class="token string">'0'</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">/* Delete */</span></span>
<span class="line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> subjects <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">4</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip">
<p class="hint-container-title">Tip</p>
<p>Voeg bij een delete steeds <code v-pre>LIMIT 1</code> toe aan de query. Zo kan max 1 record gewist worden, zo vermijd je dat je volledig tabel gewist wordt door een foutieve query.</p>
</div>
<h3 id="de-basis-interactie-met-een-database-vanuit-php" tabindex="-1"><a class="header-anchor" href="#de-basis-interactie-met-een-database-vanuit-php"><span>De basis interactie met een database vanuit PHP</span></a></h3>
<p>Een typische interactie met een database vanuit PHP ziet er als volgt uit:</p>
<ol>
<li>Connecteren met de database</li>
<li>Een query uitvoeren op de database</li>
<li>De ontvangen resultaten gebruiken</li>
<li>De ontvangen resultaten loslaten</li>
<li>De verbinding met de database afsluiten</li>
</ol>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// de database login gegevens</span></span>
<span class="line">    <span class="token variable">$dbhost</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'localhost'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbuser</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'webuser'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbpass</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'secretpassword'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbname</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'vives'</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 1. Verbinden met de database</span></span>
<span class="line">    <span class="token variable">$connection</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token variable">$dbhost</span><span class="token punctuation">,</span> <span class="token variable">$dbuser</span><span class="token punctuation">,</span> <span class="token variable">$dbpass</span><span class="token punctuation">,</span> <span class="token variable">$dbname</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 2. Een query uitvoeren</span></span>
<span class="line">    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM subjects"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$result_set</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 3. De ontvangen resultaten gebruiken</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">echo</span> <span class="token variable">$subject</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"menu_name"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br />"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 4. De ontvangen resultaten loslaten</span></span>
<span class="line">    <span class="token function">mysqli_free_result</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 5. De verbinding met de database afsluiten</span></span>
<span class="line">    <span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan ook de ontvangen data in een JSON formaat plaatsen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token comment">// De query uitvoeren</span></span>
<span class="line"><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM subjects"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$result_set</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// De data in een associatieve array plaatsen</span></span>
<span class="line"><span class="token variable">$data</span><span class="token operator">=</span><span class="token function">mysqli_fetch_all</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">,</span><span class="token constant">MYSQLI_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// De data in een JSON formaat plaatsen</span></span>
<span class="line"><span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="een-php-form-en-een-database" tabindex="-1"><a class="header-anchor" href="#een-php-form-en-een-database"><span>Een PHP form en een database</span></a></h3>
<p>We maken een form waarmee we data kunnen toevoegen aan de tabel. Noem dit bestand <code v-pre>mysqli_form.php</code>.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// de database login gegevens</span></span>
<span class="line">    <span class="token variable">$dbhost</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'localhost'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbuser</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'webuser'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbpass</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'secretpassword'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$dbname</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'vives'</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Verbinden met de database</span></span>
<span class="line">    <span class="token variable">$connection</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token variable">$dbhost</span><span class="token punctuation">,</span> <span class="token variable">$dbuser</span><span class="token punctuation">,</span> <span class="token variable">$dbpass</span><span class="token punctuation">,</span> <span class="token variable">$dbname</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Een query uitvoeren</span></span>
<span class="line">    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM subjects"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$result_set</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span> <span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// De ontvangen resultaten gebruiken</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">echo</span> <span class="token variable">$subject</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"menu_name"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br />"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// De ontvangen resultaten loslaten</span></span>
<span class="line">    <span class="token function">mysqli_free_result</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// De verbinding met de database afsluiten</span></span>
<span class="line">    <span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysqli_form.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    Menu Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu_name<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>
<span class="line">    position: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>position<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span></span>
<span class="line">    visible: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Bij een POST roepen we dus dezelfde pagina op, we zullen dus in de pagina opnieuw moeten kunnen onderscheppen als het om een GET of POST request gaat.</p>
<p>We plaatsen dit na de verbinding met de database zodat de nieuwe data ook reeds onmiddellijk weergegeven wordt op de pagina:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token comment">// Is het een POST request?</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'REQUEST_METHOD'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'POST'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token variable">$menu_name</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'menu_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token variable">$position</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'position'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token variable">$visible</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'visible'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token variable">$insert</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"INSERT INTO subjects (menu_name, position, visible) VALUES ('<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$menu_name</span><span class="token punctuation">}</span></span>','<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$position</span><span class="token punctuation">}</span></span>','<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$visible</span><span class="token punctuation">}</span></span>');"</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$insert</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We gebruiken hierbij <code v-pre>mysqli_real_escape_string()</code> om te vermijden dat hackers een <code v-pre>;</code> zouden plaatsen in de input gevolgd door een SQL commando waardoor ongewenste interactie met onze database zou kunnen ontstaan.</p>
<p>We zijn nu in staat om nieuwe records aan onze tabel toe te voegen. Vervolgens willen we ook records kunnen wissen vanuit dezelfde pagina.</p>
<p>Hiervoor maken we een 2de form op onze pagina, we doen dit net na het uitvoeren van de query en voor het gebruiken van de resultaten. Hiervoor onderbreken we even onze PHP code om een HTML tag te gebruiken:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">?></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysqli_form.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line"></span>
<span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line"></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Om te kunnen aanduiden welke record gewist moeten worden plaatsen we na elk record een checkbox, we doen dit in de while-lus.</p>
<p>Pas de code als volgt aan:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">    <span class="token comment">// De ontvangen resultaten gebruiken</span></span>
<span class="line">    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$result_set</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">echo</span> <span class="token variable">$subject</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"menu_name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;input type='checkbox' name='checkboxes[]' value=<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$subject</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> />&lt;br/>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Net voor we de verbinding met de database afsluiten onderbreken we terug de php code om via HTML een submit button te plaatsen en onze form te sluiten.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">?></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>delete<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line"></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tot slot moeten we bij de POST nu kunnen onderscheiden of het om een <strong>Insert</strong> of een <strong>Delete</strong> gaat. Hiervoor gebruiken we een trucje, we plaatsen een verborgen veld in het form.</p>
<p>Dit komt in het delete-form gedeelte voor de submit button:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"hidden"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"action"</span> value<span class="token operator">=</span><span class="token string double-quoted-string">"delete"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>En dit komt in het insert-form gedeelte voor de submit button:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"hidden"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"action"</span> value<span class="token operator">=</span><span class="token string double-quoted-string">"insert"</span> <span class="token operator">/</span><span class="token operator">></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Bij een POST zal er dus een verborgen veld <code v-pre>action</code> gepost worden met de waarde <code v-pre>insert</code> of <code v-pre>delete</code>.</p>
<p>We onderscheiden bij de POST actie nu hiermee of we een insert of een delete interactie moeten uitvoeren.</p>
<p>Wijzig het POST gedeelte als volgt:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token comment">// Is het een POST request?</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'REQUEST_METHOD'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'POST'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Is het een DELETE actie ?</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"action"</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'delete'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'checkboxes'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token variable">$delete</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"DELETE FROM subjects WHERE id='<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'checkboxes'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>';"</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$delete</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span>   </span>
<span class="line">    <span class="token comment">// Is het een INSERT actie ?</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"action"</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string single-quoted-string">'insert'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$menu_name</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'menu_name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$position</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'position'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$visible</span><span class="token operator">=</span><span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'visible'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$insert</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"INSERT INTO subjects (menu_name, position, visible) VALUES ('<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$menu_name</span><span class="token punctuation">}</span></span>','<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$position</span><span class="token punctuation">}</span></span>','<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$visible</span><span class="token punctuation">}</span></span>');"</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span><span class="token variable">$insert</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Zo, nu hebben we een PHP pagina waarmee we records kunnen toevoegen en wissen in onze tabel.</p>
<h3 id="klasopdracht-3" tabindex="-1"><a class="header-anchor" href="#klasopdracht-3"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>Verder werken aan de info pagina, WEBApi en het IoT device alsook het aanmaken van de database van de klassikale opdracht</p>
</div>
<h2 id="week-5-php-en-mail" tabindex="-1"><a class="header-anchor" href="#week-5-php-en-mail"><span>Week 5 - PHP en mail</span></a></h2>
<p>We maken gebruik van de intern voorziene mailservice van XXAMP.</p>
<p>De basis van het sturen van een mail ziet er als volgt uit:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token variable">$to_email</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"receipient@gmail.com"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Simple Email Test via PHP"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$body</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Hi, This is test email send by PHP Script"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"From: sender email"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$to_email</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$body</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Email successfully sent to <span class="token interpolation"><span class="token variable">$to_email</span></span>..."</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Email sending failed..."</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test dit uit zodat je zeker bent dat je email configuratie in orde is.</p>
<h3 id="een-bevestigingsmail-versturen" tabindex="-1"><a class="header-anchor" href="#een-bevestigingsmail-versturen"><span>Een bevestigingsmail versturen</span></a></h3>
<p>We starten met <a href="/files/mailform.zip">een eenvoudige pagina</a> met een form waar je een voornaam, naam en email adres kan ingeven.</p>
<p>Bij een geldige submit kunnen we nu in het bestand <code v-pre>mailconfirm.php</code> een berichtje naar dat email adres sturen.</p>
<p>We starten met het ophalen van de POST data:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>form confirmation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">            <span class="token comment">// Post data ophalen</span></span>
<span class="line">            <span class="token variable">$firstname</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'firstname'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </span>
<span class="line">            <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </span>
<span class="line">            <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line">            <span class="token comment">//debug: komt de info binnen ?</span></span>
<span class="line">            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p>Firstname = "</span><span class="token operator">.</span><span class="token variable">$firstname</span><span class="token operator">.</span><span class="token string double-quoted-string">" Name = "</span><span class="token operator">.</span><span class="token variable">$name</span><span class="token operator">.</span><span class="token string double-quoted-string">" Email = "</span><span class="token operator">.</span><span class="token variable">$email</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/p>"</span><span class="token punctuation">;</span> <span class="token comment">// mag straks terug weg</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// Genereren APIkey</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// Mail versturen</span></span>
<span class="line">           </span>
<span class="line">            <span class="token comment">// Content op pagina plaatsen</span></span>
<span class="line">            </span>
<span class="line">        <span class="token delimiter important">?></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We zullen een html mail versturen, hiervoor zullen we een css opmaak gebruiken. Plaats onderstaande styling in een bestand <code v-pre>mailstyle.css</code> onder de folder <code v-pre>styles</code>.</p>
<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css" data-title="css"><pre v-pre><code><span class="line"><span class="token selector">html</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">background-color</span><span class="token punctuation">:</span> lightgray<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">body</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">font-family</span><span class="token punctuation">:</span> Calibri<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#banner</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">border-color</span><span class="token punctuation">:</span>  <span class="token function">rgb</span><span class="token punctuation">(</span>224<span class="token punctuation">,</span>0<span class="token punctuation">,</span>32<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#logo</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">.nobullet</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">list-style-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#maintext h1</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>224<span class="token punctuation">,</span>0<span class="token punctuation">,</span>32<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">font-family</span><span class="token punctuation">:</span> aller<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">font-size</span><span class="token punctuation">:</span> 38px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#maintext p</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token selector">#info</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 10px 8px 16px 0px <span class="token function">rgba</span><span class="token punctuation">(</span>224<span class="token punctuation">,</span>0<span class="token punctuation">,</span>32<span class="token punctuation">,</span>0.4<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We laten de APIkey even voor wat het is en starten nu met de opbouw van de mail om die vervolgens te versturen.</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">    <span class="token comment">// Genereren APIkey</span></span>
<span class="line">    <span class="token variable">$apikey</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"voorlopige test"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// subject definieren</span></span>
<span class="line">    <span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Copy of your contact request"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// server bestanden inladen</span></span>
<span class="line">    <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"./styles/mailstyle.css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./images/logo.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$imgdata</span> <span class="token operator">=</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$img</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// html body definieren                </span></span>
<span class="line">    <span class="token variable">$body</span> <span class="token operator">=</span> <span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span><span class="token constant">EOF</span></span>
<span class="line">            <span class="token operator">&lt;</span>html<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>head<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>style<span class="token operator">></span></span>
<span class="line">            <span class="token variable">$content</span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>body<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string double-quoted-string">"banner"</span><span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>img id<span class="token operator">=</span><span class="token string double-quoted-string">"logo"</span> src<span class="token operator">=</span><span class="token string single-quoted-string">'data:image/x-icon;base64,$imgdata'</span><span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string double-quoted-string">"maintext"</span><span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>h1<span class="token operator">></span><span class="token constant">VIVES</span> Internet of Things<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>p<span class="token operator">></span>Design your future<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>                </span>
<span class="line">                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        </span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></span>
<span class="line">    </span>
<span class="line">            <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token class-name type-declaration">Hello</span> <span class="token variable">$firstname</span><span class="token punctuation">,</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>p<span class="token operator">></span>Thank you <span class="token keyword">for</span> registering on the <span class="token constant">VIVES</span> IoT page<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>p<span class="token operator">></span>We have registered the following credentials<span class="token punctuation">:</span><span class="token operator">&lt;</span>p<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>ul<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span>Firstname<span class="token punctuation">:</span> <span class="token operator">&lt;</span>b<span class="token operator">></span><span class="token variable">$firstname</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span>Name<span class="token punctuation">:</span> <span class="token operator">&lt;</span>b<span class="token operator">></span><span class="token variable">$name</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>li<span class="token operator">></span>Email<span class="token punctuation">:</span> <span class="token operator">&lt;</span>b<span class="token operator">></span><span class="token variable">$email</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>                                    </span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></span>
<span class="line">            </span>
<span class="line">            <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string double-quoted-string">"info"</span><span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>p<span class="token operator">></span>You can <span class="token keyword">use</span> <span class="token package">your</span> personal APIkey <span class="token keyword">for</span> IoT purposes<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span>ul<span class="token operator">></span></span>
<span class="line">                    <span class="token operator">&lt;</span>li<span class="token operator">></span>Your <span class="token operator">&lt;</span>b<span class="token operator">></span>APIkey<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span> <span class="token operator">=</span> <span class="token variable">$apikey</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></span>
<span class="line">                <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></span>
<span class="line"></span>
<span class="line">            <span class="token operator">&lt;</span>p<span class="token operator">></span>Regards<span class="token punctuation">,</span><span class="token operator">&lt;</span>p<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span>p<span class="token operator">></span>The <span class="token constant">VIVES</span> IoT team<span class="token operator">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>                                </span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></span>
<span class="line">            <span class="token constant">EOF</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// Set content-type header for sending HTML email </span></span>
<span class="line">            <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"MIME-Version: 1.0"</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"\r\n"</span><span class="token punctuation">;</span> </span>
<span class="line">            <span class="token variable">$headers</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"Content-type:text/html;charset=UTF-8"</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"\r\n"</span><span class="token punctuation">;</span> </span>
<span class="line"></span>
<span class="line">            <span class="token comment">// Mail versturen</span></span>
<span class="line">            <span class="token variable">$result</span><span class="token operator">=</span><span class="token function">mail</span><span class="token punctuation">(</span><span class="token variable">$email</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span> <span class="token variable">$body</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   </span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tot slot kunnen we de confirmatie tekst voorzien:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">    <span class="token comment">// Content op pagina plaatsen</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div class=\"response\" style=\"background-color:#b3e6b3;color:#267326;border-radius:5px;width:90%;padding:12px 20px;margin:10px\">"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p>"</span><span class="token operator">.</span><span class="token variable">$firstname</span><span class="token operator">.</span><span class="token string double-quoted-string">", you succesfully registrated.&lt;/p>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p>A confirmationmail has been send to "</span><span class="token operator">.</span><span class="token variable">$email</span><span class="token operator">.</span><span class="token string double-quoted-string">" with your APIkey&lt;/p>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/div>"</span><span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="een-apikey-genereren" tabindex="-1"><a class="header-anchor" href="#een-apikey-genereren"><span>Een APIkey genereren</span></a></h3>
<p>Bij het gebruik van een WEB API zal veelal een APIkey worden aangemaakt. Deze zal jou user en wachtwoord combinatie vervangen om de API te gebruiken.</p>
<p>Een APIkey is een onleesbare stringcombinatie van tekens die als volgt kan gegenereerd worden (dit is slecht 1 van de mogelijkheden om dit te doen).</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line">    <span class="token comment">// functie om een APIkey te genereren</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">getGUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">function_exists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'com_create_guid'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token function">com_create_guid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">mt_srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span>double<span class="token punctuation">)</span><span class="token function">microtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//optional for php 4.2.0 and up.</span></span>
<span class="line">            <span class="token variable">$charid</span> <span class="token operator">=</span> <span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">uniqid</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token variable">$hyphen</span> <span class="token operator">=</span> <span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "-"</span></span>
<span class="line">            <span class="token variable">$uuid</span> <span class="token operator">=</span></span>
<span class="line">                <span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$charid</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token variable">$hyphen</span></span>
<span class="line">                <span class="token operator">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$charid</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token variable">$hyphen</span></span>
<span class="line">                <span class="token operator">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$charid</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token variable">$hyphen</span></span>
<span class="line">                <span class="token operator">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$charid</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token variable">$hyphen</span></span>
<span class="line">                <span class="token operator">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token variable">$charid</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token variable">$uuid</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan nu in de PHP code de APIkey met deze functie genereren:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token comment">// Genereren APIkey</span></span>
<span class="line">    <span class="token variable">$apikey</span> <span class="token operator">=</span> <span class="token function">getGUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="klasopdracht-4" tabindex="-1"><a class="header-anchor" href="#klasopdracht-4"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>Verder werken aan de info pagina en WEBApi van de klassikale opdracht</p>
</div>
<h3 id="take-home-opdracht-2" tabindex="-1"><a class="header-anchor" href="#take-home-opdracht-2"><span>Take-home opdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Voorbereiding PHP en cookies & sessions</p>
<p>Om de leerstof van de volgende les nog beter te begrijpen bekijk je alvast hoofdstuk 4 van de videotutorial <a href="https://www.linkedin.com/learning/php-with-mysql-essential-training-2-build-a-cms/work-with-cookies-14247738" target="_blank" rel="noopener noreferrer">PHP with mySQL essential training 2 build a CMS</a> op LinkedIn Learing.</p>
<p>Andere relevantie informatiebronnen zijn:</p>
<ul>
<li><a href="https://www.tutorialrepublic.com/php-tutorial/php-cookies.php" target="_blank" rel="noopener noreferrer">TutorialRepublic - PHP cookies</a></li>
<li><a href="https://www.tutorialrepublic.com/php-tutorial/php-sessions.php" target="_blank" rel="noopener noreferrer">TutorialRepublic - PHP sessions</a></li>
<li><a href="https://www.guru99.com/cookies-and-sessions.html" target="_blank" rel="noopener noreferrer">Guru99 - cookies and sessions</a></li>
<li>Hoofdstuk 4 van de videotutorial <a href="https://www.linkedin.com/learning/php-with-mysql-essential-training-2-build-a-cms" target="_blank" rel="noopener noreferrer">PHP with mySQL essential training 2 build a CMS</a> op LinkedIn Learing.</li>
</ul>
</div>
<h2 id="week-6-php-en-cookies-sessions" tabindex="-1"><a class="header-anchor" href="#week-6-php-en-cookies-sessions"><span>Week 6 - PHP en cookies &amp; sessions</span></a></h2>
<h3 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie"><span>Cookie</span></a></h3>
<p>Een <strong>cookie</strong> is dus een klein blokje data (tot 4096 bytes) wat de server bij een eerste HTTP Response meestuurt naar de client browser. Deze client browser zal op zijn beurt bij elke volgende HTTP request deze cookie eveneens meesturen naar de server.</p>
<p>Initieel is dit ontworpen om te kunnen bijhouden wie je bent en wat er in jou winkelmandje zit.</p>
<p>Bij de aanmaak van de cookie krijgt deze een naam, een value en een houdbaarheidsdatum (aantal seconden vanaf 1970).</p>
<p>In PHP kunnen we bij een HTTP request kijken of een cookie werd meegestuurd, indien deze niet aanwezig is kan je als volgt een default waarde gebruiken:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token variable">$language</span><span class="token operator">=</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'English'</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>Als je een cookie wil wissen kan je dit eenvoudig doen daar een value = false in te stoppen. Dat betekend ook dat je geen boolean als value van een cookie kan gebruiken maar met 0 of 1 moet werken.</p>
<p>Een cookie wordt bij de client bewaard, deze kan dus hier wijzigingen aan aanbrengen, hierdoor is een cookie minder veilig.</p>
<h4 id="laten-we-een-voorbeeld-bekijken" tabindex="-1"><a class="header-anchor" href="#laten-we-een-voorbeeld-bekijken"><span>Laten we een voorbeeld bekijken</span></a></h4>
<p>We werken een webpagina uit met een taalkeuze:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Indien cookie niet bestaat gebruik 'English' als default taal</span></span>
<span class="line">    <span class="token variable">$language</span><span class="token operator">=</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'English'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Is er via de form een post 'lang' doorgestuurd?</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"lang"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Maak de cookie aan met de doorgekregen waarde met een houdbaarheid van 5 uur.</span></span>
<span class="line">        <span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">,</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// Zet de taal juist</span></span>
<span class="line">        <span class="token variable">$language</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </span>
<span class="line">        <span class="token comment">// debug de ontvangen taalkeuze</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;div> POST: '</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'post variabele not set'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/div>'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// debug de cookie waarde</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;div> COOKIE: '</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lang'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'cookie not set'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/div>'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Afhankelijk van de taalkeuze toon je de header in de juiste taal</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$language</span><span class="token operator">==</span><span class="token string single-quoted-string">'English'</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;h1>Hello World&lt;/h1>'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;h1>Hallo Wereld&lt;/h1>'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span>
<span class="line">// De taalkeuze form</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lang<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>English<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>English<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dutch<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Dutch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Je kan zelf in je browser de gebruikte cookies inspecteren. In Chrome ga je bv naar het informatie icoontje net voor de URL balk en kies je cookies.</p>
<p><img src="@source/08_php/images/afbeelding7.png" alt="download"></p>
<h3 id="session" tabindex="-1"><a class="header-anchor" href="#session"><span>Session</span></a></h3>
<p>Een <strong>session</strong> is een soort cookie met een id. Iedere client krijgt een uniek id die zolang geldig blijft als het browservenster open staat. Op de server wordt een file bewaard met dit id waarin dan alle data zit voor deze client. Dit is eerst en vooral veel veiliger omdat de client deze data niet kan wijzigen en veel efficienter omdat bij elke HTTP request/response enkel de session identifier moet meegestuurd worden.</p>
<h4 id="laten-we-een-voorbeeld-bekijken-1" tabindex="-1"><a class="header-anchor" href="#laten-we-een-voorbeeld-bekijken-1"><span>laten we een voorbeeld bekijken</span></a></h4>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// Maak de session identifier aan</span></span>
<span class="line">    <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Gebruik een default waarde indien nodig</span></span>
<span class="line">    <span class="token variable">$comment</span><span class="token operator">=</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'no comment'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Is er via de form een post 'comment'doorgestuurd?</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"comment"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// Bewaar de 'comment' data in de session</span></span>
<span class="line">        <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// Debug de ontvangen comment    </span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;div> POST: '</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'post variabele not set'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/div>'</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// Debug de session comment waarde</span></span>
<span class="line">    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;div> SESSION: '</span><span class="token operator">.</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span><span class="token operator">??</span><span class="token string single-quoted-string">'session not set'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string single-quoted-string">'&lt;/div>'</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span>
<span class="line">// De comment form</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Als we ditmaal de cookies inspecteren in onze browser stellen we vast dat er slechts 1 cookie aanwezig is met de naam PHPSESSID met jou unieke indentifier voor deze sessie.</p>
<p><img src="@source/08_php/images/afbeelding8.png" alt="download"></p>
<h3 id="login-pagina" tabindex="-1"><a class="header-anchor" href="#login-pagina"><span>Login pagina</span></a></h3>
<p>Om bij te houden als een gebruiker ingelogd is moet je dit steeds doen via een session variabele. Mocht je dit doen via een cookie kan de gebruiker eventueel de cookie manupuleren en zo het doen lijken alsof hij ingelogd is zonder echt ooit een gebruikersnaam en paswoord in te geven.</p>
<p>Een basis loginsysteem ziet er als volgt uit:</p>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    <span class="token comment">// Start or renew the session</span></span>
<span class="line">    <span class="token variable">$logged_in</span> <span class="token operator">=</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'logged_in'</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>       <span class="token comment">// Is the user logged in?</span></span>
<span class="line">    </span>
<span class="line">    <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'evy.bucket@outlook.com'</span><span class="token punctuation">;</span>                  <span class="token comment">// Email to log in</span></span>
<span class="line">    <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'password'</span><span class="token punctuation">;</span>                             <span class="token comment">// Password to log in</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                                   <span class="token comment">// After succesfull login</span></span>
<span class="line">        <span class="token function">session_regenerate_id</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// Update session ID</span></span>
<span class="line">        <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'logged_in'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>                  <span class="token comment">// Set logged_in key to true</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                                  <span class="token comment">// Terminate the session</span></span>
<span class="line">        <span class="token variable">$_SESSION</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                                 <span class="token comment">// Clear contents of session array</span></span>
<span class="line">        <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token function">session_get_cookie_params</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Get the session cookie parameters</span></span>
<span class="line">        <span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'PHPSESSID'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">,</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3600</span><span class="token punctuation">,</span>       </span>
<span class="line">                   <span class="token variable">$params</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token variable">$params</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'domain'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token variable">$params</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'secure'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">                   <span class="token variable">$params</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'httponly'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// Delete session cookie</span></span>
<span class="line">        <span class="token function">session_destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">// Delete session file</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function-definition function">require_login</span><span class="token punctuation">(</span><span class="token variable">$logged_in</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                 <span class="token comment">// Check if users is logged in</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$logged_in</span> <span class="token operator">==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                       <span class="token comment">// If user is nog logged in</span></span>
<span class="line">            <span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: login.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// Redirect to login.php</span></span>
<span class="line">            <span class="token keyword">exit</span><span class="token punctuation">;</span>                                       <span class="token comment">// Stop executing rest of this page</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Die gebruikersnaam en paswoord worden bij registratie bewaard in een database. Om er voor te zorgen dat een paswoord veilig bewaard is in een database moet deze versleuteld worden. Doe je dit niet dan kan een hacker eenmaal toegang gekregen tot jou database met alle gebruikersnamen en paswoorden aan de slag.</p>
<div class="hint-container caution">
<p class="hint-container-title">Waarschuwing</p>
<p>Het is bij wet verplicht om paswoorden versleuteld te bewaren. Hier staan zeer hoge boetes op!</p>
</div>
<p>Om een paswoord te versleutelen gebruiken we een <strong>hash-functie</strong> deze gebruikt een algoritme (naar keuze) om het paswoord om te vormen in een niet leesbare reeks van karakters. Waarbij het eerste deel het algoritme bevat.</p>
<p>Het is onmogelijk om vanuit de hash het paswoord te berekenen. Bij gevolg moet je het ingebrachte paswoord met het zelfde algoritme versleutelen en dan deze vergelijken met de in de database bewaarde hash.</p>
<h4 id="laten-we-even-een-voorbeeld-bekijken" tabindex="-1"><a class="header-anchor" href="#laten-we-even-een-voorbeeld-bekijken"><span>Laten we even een voorbeeld bekijken</span></a></h4>
<div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre v-pre><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line">    <span class="token comment">// bij wijze van oefening gebruiken we twee variabelen i.p.v. een input en database</span></span>
<span class="line">    <span class="token variable">$password</span><span class="token operator">=</span><span class="token string double-quoted-string">"secretpassword"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token variable">$password_input</span><span class="token operator">=</span><span class="token string double-quoted-string">"secretpassword"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// We versleutelen het paswoord via het algoritme PASSWORD_DEFAULT</span></span>
<span class="line">    <span class="token variable">$hash</span><span class="token operator">=</span><span class="token function">password_hash</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">,</span><span class="token constant">PASSWORD_DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Debug van de hash</span></span>
<span class="line">    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$hash</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//gebruik password_verify => algoritme die moet gebruikt worden zit in de eerste bytes van de hash</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">password_verify</span><span class="token punctuation">(</span><span class="token variable">$password_input</span><span class="token punctuation">,</span> <span class="token variable">$hash</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>password correct&lt;/div>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;div>password wrong &lt;/div>"</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"> <span class="token delimiter important">?></span></span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="@source/08_php/images/afbeelding9.png" alt="download"></p>
<h3 id="wetgeving" tabindex="-1"><a class="header-anchor" href="#wetgeving"><span>Wetgeving</span></a></h3>
<p>Laten we eerst even <a href="https://www.youtube.com/watch?v=QWw7Wd2gUJk" target="_blank" rel="noopener noreferrer">deze video</a> bekijken om beter te begrijpen wat het probleem met cookies is.</p>
<h4 id="gdpr" tabindex="-1"><a class="header-anchor" href="#gdpr"><span>GDPR</span></a></h4>
<p>Bedrijven hebben het recht om de persoonsgegevens van gebruikers te verwerken indien ze <strong>toestemming kregen</strong> of ze een <strong>legitiem belang</strong> (bvb om fraude te vermijden) hebben.</p>
<h4 id="eprivacy-regulation" tabindex="-1"><a class="header-anchor" href="#eprivacy-regulation"><span>ePrivacy Regulation</span></a></h4>
<p>Dit is een uitbreiding op de GDPR wetgeving die binnenkort van kracht komt:</p>
<ul>
<li>toegang tot websites niet verbieden indien cookies gebruik niet werd goedgekeurd</li>
<li>wifi locatie en device tracking</li>
<li>privacy setting van de browsers standaard aan</li>
<li>regulatie van de inhoud van de metadata (cookies)</li>
</ul>
<h4 id="klassificatie" tabindex="-1"><a class="header-anchor" href="#klassificatie"><span>Klassificatie</span></a></h4>
<p>Cookies vallen onder volgende klassificatie:</p>
<p><strong>Duration (duur)</strong></p>
<ul>
<li>session cookies: tijdelijk en verdwijnen als je de browser sluit</li>
<li>persistent cookies: alle overige cookies =&gt; volgens ePrivacy Directive maximaal 12 maanden</li>
</ul>
<p><strong>Provenance (oorsprong)</strong></p>
<ul>
<li>first-party cookies: de cookies die door de website die je bezoekt worden geplaatst</li>
<li>third-party cookies: deze geplaatst door een third party zoals advertiser (ads) of een analytic systeem</li>
</ul>
<p><strong>Purpose (doel)</strong></p>
<ul>
<li>strictly necessary cookies: bijvoorbeeld om in te loggen, inhoud winkelmand</li>
<li>preference cookies (functioniality cookies): keuzes zoals taal, username en automatisch inloggen</li>
<li>statistics cookies (performance cookies): tellers, hoe de website werd gebruikt, ... Maar anoniem gemaakt, niet meer terug te leiden naar een persoon</li>
<li>marketing cookies: volgen je online activiteit en helpen adverteerders doelgerichter te adverteren, meestal third-pary en persistent</li>
</ul>
<h4 id="cookie-richtlijnen" tabindex="-1"><a class="header-anchor" href="#cookie-richtlijnen"><span>Cookie richtlijnen</span></a></h4>
<ul>
<li>gebruikers dienen toestemming te geven vooraleer cookies te gebruiken, uitgezonderd de noodzakelijke cookies(strictly necessary cookies)</li>
<li>de gebruiker informeren welke data elke cookie precies volgt, en dit vooraleer toestemming werd verkregen</li>
<li>de toestemmingen van de gebruikers documenteren en bewaren</li>
<li>de gebruikers toelating geven om je service te gebruiken, zelfs indien ze geen toestemming gaven voor bepaalde cookies</li>
<li>de gebruikers de mogelijkheid geven om hun toestemming terug in te trekken</li>
</ul>
<p>Een mooi voorbeeld is <a href="https://www.cookiebot.com/en/cookie-consent" target="_blank" rel="noopener noreferrer">Cookiebot</a>.</p>
<p><img src="@source/08_php/images/afbeelding10.png" alt="download"></p>
<h3 id="klasopdracht-5" tabindex="-1"><a class="header-anchor" href="#klasopdracht-5"><span>Klasopdracht</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">Back-end IoT applicatie</p>
<p>Verder werken aan de info pagina van de klassikale opdracht</p>
</div>
<h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h2>
<details class="hint-container details"><summary>Mijn MySQL server wil niet meer opstarten</summary>
<p>De precieze oorzaak kon ik nog niet achterhalen, maar soms loopt er iets fout tijdens het afsluiten van de MySQL server. Hierdoor lukt het opstarten de volgende keer niet meer.</p>
<p><img src="@source/08_php/images/afbeelding14.png" alt="image"></p>
<p><strong>Work-around</strong></p>
<ol>
<li>Ga naar de folder <code v-pre>C:\xampp\mysql</code> en maak er een nieuwe folder <code v-pre>FIX_BACKUP</code> aan.</li>
<li>Kopier de folders <code v-pre>C:\xampp\mysql\backup</code> en <code v-pre>C:\xampp\mysql\data</code> naar de nieuwe folder <code v-pre>C:\xampp\mysql\FIX_BACKUP</code>.</li>
<li>Kopier de inhoud van de folder <code v-pre>C:\xampp\mysql\backup</code> naar de folder <code v-pre>C:\xampp\mysql\data</code> waarmee je alle bestanden overschrijft.</li>
<li>Kopier het bestand <code v-pre>ibdata1</code> uit de folder <code v-pre>C:\xampp\mysql\FIX_BACKUP\data</code> naar <code v-pre>C:\xampp\mysql\data</code> waarmee je het bestand ook terug overschrijft.</li>
</ol>
<p>Nu zou de MySQL server terug moeten opstarten.</p>
<p>Start nu phpMyAdmin op en voer onderstaande sql-statement uit om onze gebruiker terug toe te voegen :</p>
<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre v-pre><code><span class="line"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'webuser'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">"secretpassword"</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> vives<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'webuser'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div></details>
</div></template>


